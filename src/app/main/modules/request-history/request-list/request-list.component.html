<div class="page-layout simple fullwidth" fxLayout="column">
    <!-- HEADER -->
    <div class="header accent p-24 h-100" fxLayout="row">
        <div class="h1">Submitted Requests</div>
    </div>
    <div class="example-loading-shade" *ngIf="isLoadingResults || isRateLimitReached">
        <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
    </div>
    <div class="page-layout blank p-24" fusePerfectScrollbar>
        <table
            mat-table
            [dataSource]="submittedRequests"
            class="example-table"
            matSort
            matSortActive="submitted_date"
            matSortDisableClear
            matSortDirection="asc"
        >
            <!-- Type Column -->
            <ng-container matColumnDef="type">
                <th mat-header-cell *matHeaderCellDef>Type</th>
                <td mat-cell *matCellDef="let request">{{ request.type }}</td>
            </ng-container>

            <!-- Submitted Date -->
            <ng-container matColumnDef="submitted_date">
                <th mat-header-cell *matHeaderCellDef>Submitted Date</th>
                <td mat-cell *matCellDef="let request">{{ request.submittedDate | date }}</td>
            </ng-container>

            <!-- Due Date -->
            <ng-container matColumnDef="due_date">
                <th mat-header-cell *matHeaderCellDef>Due Date</th>
                <td mat-cell *matCellDef="let request">{{ request.dueDate | date }}</td>
            </ng-container>

            <!-- Assignee Column -->
            <ng-container matColumnDef="assignee">
                <th mat-header-cell *matHeaderCellDef>Assignee</th>
                <td mat-cell *matCellDef="let request">{{ request.assignee }}</td>
            </ng-container>

            <!-- Progress Column -->
            <ng-container matColumnDef="progress">
                <th mat-header-cell *matHeaderCellDef>Progress</th>
                <td mat-cell *matCellDef="let request">{{ request.progress }}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>

        <mat-paginator [length]="resultsLength" [pageSize]="30"></mat-paginator>
    </div>
</div>
